!function(){"use strict";var e=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._nactiveButtonClass=e.inactiveButtonClass,this._inputInvalidClass=e.inputInvalidClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}disableButton(e){e.disabled=!0}enableButton(e){e.disabled=!1}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputInvalidClass)}_hideInputError(e){this._form.querySelector(`#${e.id}-error`).classList.remove(this._errorClass),e.classList.remove(this._inputInvalidClass)}checkInputValidity(e,t){e.validity.valid?this._hideInputError(e,t):this._showInputError(e,t)}_checkFormValidity=()=>this.inputElements.every((e=>e.validity.valid));_toggleButtonAbility=()=>{this._checkFormValidity()?this.enableButton(this.submitButton):this.disableButton(this.submitButton)};_setEventListeners(){this.inputElements=[...this._form.querySelectorAll(this._inputSelector)],this.submitButton=this._form.querySelector(this._submitButtonSelector),this.inputElements.forEach((e=>{e.addEventListener("input",(t=>{this.checkInputValidity(e),this._toggleButtonAbility(this.inputElements)}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this.disableButton(this.submitButton)})),this._setEventListeners()}},t=class{constructor(e,t,o){this.name=e.name,this.link=e.link,this.alt=e.alt,this._cardSelector=t,this._handleImageClick=o}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".gallery__card").cloneNode(!0)}_handleToggleLike(){this._likeButton.classList.toggle("gallery__like-button_clicked")}_handleDeleteCard(){this._element.remove()}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleToggleLike())),this._trashButton.addEventListener("click",(()=>this._handleDeleteCard())),this._cardPhoto.addEventListener("click",(()=>{this._handleImageClick({name:this.name,link:this.link})}))}getView(){return this._element=this._getTemplate(),this._cardPhoto=this._element.querySelector(".gallery__image"),this._likeButton=this._element.querySelector(".gallery__like-button"),this._trashButton=this._element.querySelector(".gallery__delete-button"),this._cardLabel=this._element.querySelector(".gallery__label"),this._cardPhoto.src=this.link,this._cardPhoto.alt=this.name,this._cardLabel.textContent=this.name,this._setEventListeners(),this._element}},o=class{constructor(e){this.modalSelector=document.querySelector(e)}open(){this.modalSelector.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this.modalSelector.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this.currentCloseButton=this.modalSelector.querySelector(".modal__close"),this.currentCloseButton.addEventListener("click",this.close.bind(this)),this.modalContainer=this.modalSelector.querySelector(".modal__container"),this.modalSelector.addEventListener("mousedown",(e=>{e.stopPropagation();let t=!1;(e.target===this.modalContainer||this.modalContainer.contains(e.target))&&(t=!0),!1===t&&this.close()}))}},s=class extends o{constructor(e){let{modalSelector:t,handleSubmitForm:o}=e;super(t),this._modalSelector=document.querySelector(t),this._modalForm=this._modalSelector.querySelector(".modal__form"),this._inputFields=this._modalForm.querySelectorAll(".modal__input"),this._handleSubmitForm=o}close(){this._modalForm.reset(),super.close()}_getInputValues(){const e=[...this._modalSelector.querySelectorAll(".modal__input")],t={};for(const o of e)t[o.name]=o.value;return t}setEventListeners(){this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this.data=this._getInputValues(),this._handleSubmitForm(this.data),this.close()})),super.setEventListeners()}};document.querySelector(".profile__title"),document.querySelector(".profile__subtitle");const n=document.querySelector("#title"),i=document.querySelector("#subtitle"),r=document.querySelector("#profile-edit-button"),l=document.querySelector("#modal__form-person"),a=document.querySelector("#modal__form-img"),c=document.querySelector("#profile-add-button"),d=new class extends o{constructor(e){super(e),this._boxPhoto=document.querySelector(".modal__box-photo"),this._boxTitle=document.querySelector(".modal__box-title")}open(e){this._boxPhoto.src=e.link,this._boxPhoto.alt=e.name,this._boxTitle.textContent=e.name,super.open()}setEventListeners(){super.setEventListeners()}}("#photo-modal"),u=e=>{d.open(e)};d.setEventListeners();let m="append";const h=e=>{const o=new t(e,"#card-template",u).getView();_.addItem(o,m)},_=new class{constructor(e,t){let{items:o,renderer:s}=e;this._items=o,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append";"append"===t&&this._container.append(e),"prepend"===t&&this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:h},".gallery__grid");_.renderItems();const p=new class{constructor(e){let{profileNameSelector:t,profileJobSelector:o}=e;this._profileName=document.querySelector(t),this._profileJob=document.querySelector(o)}getUserInfo(){const e={name:"",job:""};return e.name=this._profileName.textContent,e.job=this._profileJob.textContent,e}setUserInfo(e,t){this._profileName.textContent=e,this._profileJob.textContent=t}}({profileNameSelector:".profile__title",profileJobSelector:".profile__subtitle"}),b=new s({modalSelector:"#profile-edit-modal",handleSubmitForm:e=>{p.setUserInfo(e.title,e.subtitle)}});r.addEventListener("click",(()=>{b.open();const{name:e,job:t}=p.getUserInfo();n.value=e,i.value=t})),b.setEventListeners();const S=new s({modalSelector:"#img-create-modal",handleSubmitForm:e=>{const t={name:e.imgTitle,link:e.imgURL,alt:e.imgTitle};m="prepend",h(t)}});c.addEventListener("click",(()=>{S.open()})),S.setEventListeners(),fetch("https://jsonplaceholder.typicode.com/posts",{headers:{authorization:"c56e30dc-2883-4270-a59e-b2f7bae969c6"}}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>{console.error("Error fetching data:",e)}));const g={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button:disabled",inputInvalidClass:"modal__input_invalid",inputErrorClass:"modal__error",errorClass:"modal__error_visible"};new e(g,l).enableValidation(),new e(g,a).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBeUZBLE1BeEZBLE1BRUVBLFdBQUFBLENBQVlDLEVBQVFDLEdBQ2xCQyxLQUFLQyxlQUFpQkgsRUFBT0ksY0FDN0JGLEtBQUtHLHNCQUF3QkwsRUFBT00scUJBQ3BDSixLQUFLSyxvQkFBc0JQLEVBQU9RLG9CQUNsQ04sS0FBS08sbUJBQXFCVCxFQUFPVSxrQkFDakNSLEtBQUtTLGlCQUFtQlgsRUFBT1ksZ0JBQy9CVixLQUFLVyxZQUFjYixFQUFPYyxXQUMxQlosS0FBS2EsTUFBUWQsQ0FDZixDQU1BZSxhQUFBQSxDQUFjQyxHQUNaQSxFQUFPQyxVQUFXLENBQ3BCLENBRUFDLFlBQUFBLENBQWFGLEdBQ1hBLEVBQU9DLFVBQVcsQ0FDcEIsQ0FHQUUsZUFBQUEsQ0FBZ0JDLEdBQ2QsTUFBTUMsRUFBc0JwQixLQUFLYSxNQUFNUSxjQUNyQyxJQUFJRixFQUFhRyxZQUVuQkYsRUFBb0JHLFlBQWNKLEVBQWFLLGtCQUMvQ0osRUFBb0JLLFVBQVVDLElBQUkxQixLQUFLVyxhQUN2Q1EsRUFBYU0sVUFBVUMsSUFBSTFCLEtBQUtPLG1CQUNsQyxDQUVBb0IsZUFBQUEsQ0FBZ0JSLEdBQ2NuQixLQUFLYSxNQUFNUSxjQUNyQyxJQUFJRixFQUFhRyxZQUVDRyxVQUFVRyxPQUFPNUIsS0FBS1csYUFDMUNRLEVBQWFNLFVBQVVHLE9BQU81QixLQUFLTyxtQkFDckMsQ0FFQXNCLGtCQUFBQSxDQUFtQlYsRUFBY1csR0FDMUJYLEVBQWFZLFNBQVNDLE1BR3pCaEMsS0FBSzJCLGdCQUFnQlIsRUFBY1csR0FGbkM5QixLQUFLa0IsZ0JBQWdCQyxFQUFjVyxFQUl2QyxDQUdBRyxtQkFBcUJBLElBQ1pqQyxLQUFLa0MsY0FBY0MsT0FBT0MsR0FBVUEsRUFBTUwsU0FBU0MsUUFHNURLLHFCQUF1QkEsS0FDRHJDLEtBQUtpQyxxQkFJdkJqQyxLQUFLaUIsYUFBYWpCLEtBQUtzQyxjQUZ2QnRDLEtBQUtjLGNBQWNkLEtBQUtzQyxhQUcxQixFQUdGQyxrQkFBQUEsR0FFRXZDLEtBQUtrQyxjQUFnQixJQUFJbEMsS0FBS2EsTUFBTTJCLGlCQUFpQnhDLEtBQUtDLGlCQUMxREQsS0FBS3NDLGFBQWV0QyxLQUFLYSxNQUFNUSxjQUFjckIsS0FBS0csdUJBRWxESCxLQUFLa0MsY0FBY08sU0FBU3RCLElBQzFCQSxFQUFhdUIsaUJBQWlCLFNBQVVDLElBQ3RDM0MsS0FBSzZCLG1CQUFtQlYsR0FDeEJuQixLQUFLcUMscUJBQXFCckMsS0FBS2tDLGNBQWMsR0FDN0MsR0FFTixDQUdBVSxnQkFBQUEsR0FDRTVDLEtBQUthLE1BQU02QixpQkFBaUIsVUFBV0MsSUFDckNBLEVBQUlFLGlCQUVKN0MsS0FBS2MsY0FBY2QsS0FBS3NDLGFBQWEsSUFFdkN0QyxLQUFLdUMsb0JBQ1AsR0N0Q0YsRUEvQ0EsTUFDRTFDLFdBQUFBLENBQVlpRCxFQUFNQyxFQUFjQyxHQUM5QmhELEtBQUtpRCxLQUFPSCxFQUFLRyxLQUNqQmpELEtBQUtrRCxLQUFPSixFQUFLSSxLQUNqQmxELEtBQUttRCxJQUFNTCxFQUFLSyxJQUNoQm5ELEtBQUtvRCxjQUFnQkwsRUFDckIvQyxLQUFLcUQsa0JBQW9CTCxDQUMzQixDQUdBTSxZQUFBQSxHQUNFLE9BQU9DLFNBQ0psQyxjQUFjckIsS0FBS29ELGVBQ25CSSxRQUFRbkMsY0FBYyxrQkFDdEJvQyxXQUFVLEVBQ2YsQ0FHQUMsaUJBQUFBLEdBQ0UxRCxLQUFLMkQsWUFBWWxDLFVBQVVtQyxPQUFPLCtCQUNwQyxDQUNBQyxpQkFBQUEsR0FDRTdELEtBQUs4RCxTQUFTbEMsUUFDaEIsQ0FFQVcsa0JBQUFBLEdBQ0V2QyxLQUFLMkQsWUFBWWpCLGlCQUFpQixTQUFTLElBQU0xQyxLQUFLMEQsc0JBQ3REMUQsS0FBSytELGFBQWFyQixpQkFBaUIsU0FBUyxJQUFNMUMsS0FBSzZELHNCQUN2RDdELEtBQUtnRSxXQUFXdEIsaUJBQWlCLFNBQVMsS0FDeEMxQyxLQUFLcUQsa0JBQWtCLENBQUVKLEtBQU1qRCxLQUFLaUQsS0FBTUMsS0FBTWxELEtBQUtrRCxNQUFPLEdBRWhFLENBQ0FlLE9BQUFBLEdBV0UsT0FWQWpFLEtBQUs4RCxTQUFXOUQsS0FBS3NELGVBQ3JCdEQsS0FBS2dFLFdBQWFoRSxLQUFLOEQsU0FBU3pDLGNBQWMsbUJBQzlDckIsS0FBSzJELFlBQWMzRCxLQUFLOEQsU0FBU3pDLGNBQWMseUJBQy9DckIsS0FBSytELGFBQWUvRCxLQUFLOEQsU0FBU3pDLGNBQWMsMkJBQ2hEckIsS0FBS2tFLFdBQWFsRSxLQUFLOEQsU0FBU3pDLGNBQWMsbUJBQzlDckIsS0FBS2dFLFdBQVdHLElBQU1uRSxLQUFLa0QsS0FDM0JsRCxLQUFLZ0UsV0FBV2IsSUFBTW5ELEtBQUtpRCxLQUMzQmpELEtBQUtrRSxXQUFXM0MsWUFBY3ZCLEtBQUtpRCxLQUVuQ2pELEtBQUt1QyxxQkFDRXZDLEtBQUs4RCxRQUNkLEdDSEYsRUExQ0EsTUFDRWpFLFdBQUFBLENBQVl1RSxHQUVWcEUsS0FBS29FLGNBQWdCYixTQUFTbEMsY0FBYytDLEVBQzlDLENBQ0FDLElBQUFBLEdBQ0VyRSxLQUFLb0UsY0FBYzNDLFVBQVVDLElBQUksZ0JBRWpDNkIsU0FBU2IsaUJBQWlCLFVBQVcxQyxLQUFLc0UsZ0JBQzVDLENBQ0FDLEtBQUFBLEdBRUV2RSxLQUFLb0UsY0FBYzNDLFVBQVVHLE9BQU8sZ0JBRXBDMkIsU0FBU2lCLG9CQUFvQixVQUFXeEUsS0FBS3NFLGdCQUMvQyxDQUNBQSxnQkFBbUIzQixJQUNELFdBQVpBLEVBQUk4QixLQUNOekUsS0FBS3VFLE9BQ1AsRUFFRkcsaUJBQUFBLEdBQ0UxRSxLQUFLMkUsbUJBQXFCM0UsS0FBS29FLGNBQWMvQyxjQUFjLGlCQUMzRHJCLEtBQUsyRSxtQkFBbUJqQyxpQkFBaUIsUUFBUzFDLEtBQUt1RSxNQUFNSyxLQUFLNUUsT0FDbEVBLEtBQUs2RSxlQUFpQjdFLEtBQUtvRSxjQUFjL0MsY0FBYyxxQkFDdkRyQixLQUFLb0UsY0FBYzFCLGlCQUFpQixhQUFjQyxJQUNoREEsRUFBSW1DLGtCQUVKLElBQUlDLEdBQW9CLEdBRXRCcEMsRUFBSXFDLFNBQVdoRixLQUFLNkUsZ0JBQ3BCN0UsS0FBSzZFLGVBQWVJLFNBQVN0QyxFQUFJcUMsV0FFakNELEdBQW9CLElBRUksSUFBdEJBLEdBQ0YvRSxLQUFLdUUsT0FDUCxHQUVKLEdDS0YsRUExQ0EsY0FBNEJXLEVBQzFCckYsV0FBQUEsQ0FBV3NGLEdBQXNDLElBQXJDLGNBQUVmLEVBQWEsaUJBQUVnQixHQUFrQkQsRUFDN0NFLE1BQU1qQixHQUNOcEUsS0FBS3NGLGVBQWlCL0IsU0FBU2xDLGNBQWMrQyxHQUM3Q3BFLEtBQUt1RixXQUFhdkYsS0FBS3NGLGVBQWVqRSxjQUFjLGdCQUNwRHJCLEtBQUt3RixhQUFleEYsS0FBS3VGLFdBQVcvQyxpQkFBaUIsaUJBQ3JEeEMsS0FBS3lGLGtCQUFvQkwsQ0FDM0IsQ0FFQWIsS0FBQUEsR0FDRXZFLEtBQUt1RixXQUFXRyxRQUNoQkwsTUFBTWQsT0FDUixDQUlBb0IsZUFBQUEsR0FFRSxNQUFNQyxFQUFZLElBQ2I1RixLQUFLc0YsZUFBZTlDLGlCQUFpQixrQkFJcENxRCxFQUFjLENBQUMsRUFHckIsSUFBSyxNQUFNekQsS0FBU3dELEVBQ2xCQyxFQUFZekQsRUFBTWEsTUFBUWIsRUFBTTBELE1BR2xDLE9BQU9ELENBQ1QsQ0FDQW5CLGlCQUFBQSxHQUNFMUUsS0FBS3VGLFdBQVc3QyxpQkFBaUIsVUFBV3FELElBQzFDQSxFQUFNbEQsaUJBQ043QyxLQUFLOEMsS0FBTzlDLEtBQUsyRixrQkFDakIzRixLQUFLeUYsa0JBQWtCekYsS0FBSzhDLE1BQzVCOUMsS0FBS3VFLE9BQU8sSUFFZGMsTUFBTVgsbUJBQ1IsR0N0QzBCbkIsU0FBU2xDLGNBQWMsbUJBQ3BCa0MsU0FBU2xDLGNBQWMsc0JBRC9DLE1BRU0yRSxFQUFhekMsU0FBU2xDLGNBQWMsVUFDcEM0RSxFQUFnQjFDLFNBQVNsQyxjQUFjLGFBRXZDNkUsRUFBb0IzQyxTQUFTbEMsY0FBYyx3QkFFM0M4RSxFQUFhNUMsU0FBU2xDLGNBQWMsdUJBRXBDK0UsRUFBVTdDLFNBQVNsQyxjQUFjLG9CQUVqQ2dGLEVBQVc5QyxTQUFTbEMsY0FBYyx1QkN5Q3pDaUYsRUFBZSxJQ3REckIsY0FBNkJwQixFQUMzQnJGLFdBQUFBLENBQVl1RSxHQUNWaUIsTUFBTWpCLEdBQ05wRSxLQUFLdUcsVUFBWWhELFNBQVNsQyxjQUFjLHFCQUN4Q3JCLEtBQUt3RyxVQUFZakQsU0FBU2xDLGNBQWMsb0JBQzFDLENBQ0FnRCxJQUFBQSxDQUFLdkIsR0FDSDlDLEtBQUt1RyxVQUFVcEMsSUFBTXJCLEVBQUtJLEtBQzFCbEQsS0FBS3VHLFVBQVVwRCxJQUFNTCxFQUFLRyxLQUMxQmpELEtBQUt3RyxVQUFVakYsWUFBY3VCLEVBQUtHLEtBQ2xDb0MsTUFBTWhCLE1BQ1IsQ0FFQUssaUJBQUFBLEdBQ0VXLE1BQU1YLG1CQUNSLEdEdUNzQyxnQkFDbEMxQixFQUFvQkYsSUFFeEJ3RCxFQUFhakMsS0FBS3ZCLEVBQUssRUFFekJ3RCxFQUFhNUIsb0JBUWIsSUFBSStCLEVBQVEsU0FDWixNQUFNQyxFQUFjQyxJQUNsQixNQUNNQyxFQURPLElBQUlDLEVBQUtGLEVBTEgsaUJBS3VCM0QsR0FDakJpQixVQUV6QjZDLEVBQVFDLFFBQVFILEVBQWFILEVBQU0sRUFFL0JLLEVBQVUsSUU1RWhCLE1BQ0VqSCxXQUFBQSxDQUFXc0YsRUFBc0I2QixHQUFtQixJQUF4QyxNQUFFQyxFQUFLLFNBQUVDLEdBQVUvQixFQUU3Qm5GLEtBQUttSCxPQUFTRixFQUNkakgsS0FBS29ILFVBQVlGLEVBQ2pCbEgsS0FBS3FILFdBQWE5RCxTQUFTbEMsY0FBYzJGLEVBQzNDLENBRUFNLFdBQUFBLEdBRUV0SCxLQUFLbUgsT0FBTzFFLFNBQVNrRSxJQUNuQjNHLEtBQUtvSCxVQUFVVCxFQUFLLEdBRXhCLENBRUFJLE9BQUFBLENBQVFKLEdBQXdCLElBQWxCRixFQUFLYyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFHLFNBRU4sV0FBVmQsR0FDRnpHLEtBQUtxSCxXQUFXSyxPQUFPZixHQUVYLFlBQVZGLEdBQ0Z6RyxLQUFLcUgsV0FBV00sUUFBUWhCLEVBRTVCLEdGc0RBLENBQUVNLE1BeERpQixDQUNuQixDQUNFaEUsS0FBTSxrQkFDTkMsS0FBTSxzR0FFUixDQUNFRCxLQUFNLGNBQ05DLEtBQU0seUdBRVIsQ0FDRUQsS0FBTSxpQkFDTkMsS0FBTSw0R0FFUixDQUNFRCxLQUFNLFVBQ05DLEtBQU0scUdBRVIsQ0FDRUQsS0FBTSx3QkFDTkMsS0FBTSxxR0FFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLG1HQWlDZWdFLFNBQVVSLEdBYlAsa0JBZ0I1QkksRUFBUVEsY0FHUixNQUFNTSxFQUFXLElHbkZqQixNQUNFL0gsV0FBQUEsQ0FBV3NGLEdBQThDLElBQTdDLG9CQUFFMEMsRUFBbUIsbUJBQUVDLEdBQW9CM0MsRUFDckRuRixLQUFLK0gsYUFBZXhFLFNBQVNsQyxjQUFjd0csR0FDM0M3SCxLQUFLZ0ksWUFBY3pFLFNBQVNsQyxjQUFjeUcsRUFDNUMsQ0FFQUcsV0FBQUEsR0FFRSxNQUFNQyxFQUFPLENBQ1hqRixLQUFNLEdBQ05rRixJQUFLLElBSVAsT0FGQUQsRUFBS2pGLEtBQU9qRCxLQUFLK0gsYUFBYXhHLFlBQzlCMkcsRUFBS0MsSUFBTW5JLEtBQUtnSSxZQUFZekcsWUFDckIyRyxDQUNULENBRUFFLFdBQUFBLENBQVluRixFQUFNa0YsR0FFaEJuSSxLQUFLK0gsYUFBYXhHLFlBQWMwQixFQUNoQ2pELEtBQUtnSSxZQUFZekcsWUFBYzRHLENBQ2pDLEdIOEQ0QixDQUM1Qk4sb0JBQXFCLGtCQUNyQkMsbUJBQW9CLHVCQXVCaEJPLEVBQW1CLElBQUlDLEVBQWMsQ0FDekNsRSxjQUFlLHNCQUNmZ0IsaUJBcEIrQnRDLElBRS9COEUsRUFBU1EsWUFBWXRGLEVBQUt5RixNQUFPekYsRUFBSzBGLFNBQVMsSUE0QmpEdEMsRUFBa0J4RCxpQkFBaUIsU0FSWCtGLEtBQ3RCSixFQUFpQmhFLE9BRWpCLE1BQU0sS0FBRXBCLEVBQUksSUFBRWtGLEdBQVFQLEVBQVNLLGNBQy9CakMsRUFBV0YsTUFBUTdDLEVBQ25CZ0QsRUFBY0gsTUFBUXFDLENBQUcsSUFJM0JFLEVBQWlCM0Qsb0JBR2pCLE1BQU1nRSxFQUFlLElBQUlKLEVBQWMsQ0FDckNsRSxjQUFlLG9CQUNmZ0IsaUJBOUIyQnRDLElBRTNCLE1BQU02RixFQUFVLENBQ2QxRixLQUFNSCxFQUFLOEYsU0FDWDFGLEtBQU1KLEVBQUsrRixPQUNYMUYsSUFBS0wsRUFBSzhGLFVBRVpuQyxFQUFRLFVBQ1JDLEVBQVdpQyxFQUFRLElBNEJyQnRDLEVBQVMzRCxpQkFBaUIsU0FKSm9HLEtBQ3BCSixFQUFhckUsTUFBTSxJQUlyQnFFLEVBQWFoRSxvQkFNYnFFLE1BQU0sNkNBQThDLENBQ2xEQyxRQUFTLENBQ1BDLGNBQWUsMENBR2hCQyxNQUFNQyxHQUFRQSxFQUFJQyxTQUNsQkYsTUFBTUcsSUFDTEMsUUFBUUMsSUFBSUYsRUFBTyxJQUVwQkcsT0FBT0MsSUFDTkgsUUFBUUcsTUFBTSx1QkFBd0JBLEVBQU0sSUFJaEQsTUFBTTNKLEVBQVMsQ0FDYjRKLGFBQWMsZUFDZHhKLGNBQWUsZ0JBQ2ZFLHFCQUFzQix3QkFDdEJFLG9CQUFxQixnQ0FDckJFLGtCQUFtQix1QkFDbkJFLGdCQUFpQixlQUNqQkUsV0FBWSx3QkFLWSxJQUFJK0ksRUFBYzdKLEVBQVFxRyxHQUNsQ3ZELG1CQUVPLElBQUkrRyxFQUFjN0osRUFBUXNHLEdBQ2xDeEQsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvTW9kYWwuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvTW9kYWxXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vbWFrZSBhIGNsYXNzIGNhbGxlZCBGb3JtVmFsaWRhdG9yXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgLy9hbGwgY2xhc3NlcyBoYXZlIGEgY29uc3RydWN0b3JcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9uYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEludmFsaWRDbGFzcyA9IGNvbmZpZy5pbnB1dEludmFsaWRDbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsZW1lbnQ7XG4gIH1cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIG1vdmUgZnVuY3Rpb25zIGZyb20gaW5kZXggdG8gaGVyZSwgYW5kIHVzZSBcInRoaXNcIlxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8vdW5pdmVyc2FsIGdsb2JhbCBmdW5jdGlvbiB0byBkaXNhYmxlIGJ1dHRvbnNcbiAgZGlzYWJsZUJ1dHRvbihidXR0b24pIHtcbiAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG4gIC8vdW5pdmVyc2FsIGZ1bmN0aW9uIHRvIGVuYWJsZSBidXR0b25zXG4gIGVuYWJsZUJ1dHRvbihidXR0b24pIHtcbiAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8vZnVuY3Rpb24gdG8gc2hvdyBpbnB1dCBlcnJvclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MpO1xuICB9XG4gIC8vZnVuY3Rpb24gdG8gaGlkZSBpbnB1ciBlcnJvclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0SW52YWxpZENsYXNzKTtcbiAgfVxuICAvL2Z1bmN0aW9uIHRvIGNoZWNrIGlucHV0IHZhbGlkaXR5XG4gIGNoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICAvL3RoZSBcInRoaXMuaW5wdXRFbGVtZW50c1wiIGlzIGRlZmluZWQgYXMgYW4gYXJyYXkgdXNpbmcgW10gaW4gX3NldEV2ZW50TGlzdGVuZXJzKClcbiAgX2NoZWNrRm9ybVZhbGlkaXR5ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmlucHV0RWxlbWVudHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvbkFiaWxpdHkgPSAoKSA9PiB7XG4gICAgY29uc3QgaXNGb3JtVmFsaWQgPSB0aGlzLl9jaGVja0Zvcm1WYWxpZGl0eSgpO1xuICAgIGlmICghaXNGb3JtVmFsaWQpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbih0aGlzLnN1Ym1pdEJ1dHRvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlQnV0dG9uKHRoaXMuc3VibWl0QnV0dG9uKTtcbiAgICB9XG4gIH07XG4gIC8vYWRkRXZlbnRMaXN0ZW5lcnNcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vbm93LCB0aGlzIGlzIHVzZWQgdG8gcmVmZXIgdG8gdGhlIG9iamVjdCBpbiBxdWVzdGlvbiwgc28gaXRzIHByb3BlcnRpZXMgYXJlIGFsc28gYWJsZSB0byBiZSByZWZlcnJlZCB0by5cbiAgICB0aGlzLmlucHV0RWxlbWVudHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgICB0aGlzLmlucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uQWJpbGl0eSh0aGlzLmlucHV0RWxlbWVudHMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvL2VuYWJsZVZhbGlkYXRpb25cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvL2Rpc2FibGUgdGhlIGJ1dHRvbiBvbiBhIHN1Y2Nlc3NmdWwgc3VibWl0XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24odGhpcy5zdWJtaXRCdXR0b24pO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn0gLy8gZW5kIG9mIGNsYXNzIEZvcm1WYWxpZGF0b3JcblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcbiIsIi8vcmVwbGFjZXMgdGhlIGdldENhcmRFbGVtZW50IGZ1bmN0aW9uXG5jbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrKSB7XG4gICAgdGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMubGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLmFsdCA9IGRhdGEuYWx0O1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgfVxuXG4gIC8vY2xvbmUgdGhlIHRlbXBsYXRlIGVsZW1lbnQgd2l0aCBhbGwgaXRzIGNvbnRlbnRcbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICB9XG5cbiAgLy9mdW5jdGlvbiB0byBjaGFuZ2UgbGlrZSBidXR0b24gY29sb3JcbiAgX2hhbmRsZVRvZ2dsZUxpa2UoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiZ2FsbGVyeV9fbGlrZS1idXR0b25fY2xpY2tlZFwiKTtcbiAgfVxuICBfaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZVRvZ2dsZUxpa2UoKSk7XG4gICAgdGhpcy5fdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKSk7XG4gICAgdGhpcy5fY2FyZFBob3RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5uYW1lLCBsaW5rOiB0aGlzLmxpbmsgfSk7XG4gICAgfSk7XG4gIH1cbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkUGhvdG8gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9faW1hZ2VcIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19kZWxldGUtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRMYWJlbCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19sYWJlbFwiKTtcbiAgICB0aGlzLl9jYXJkUGhvdG8uc3JjID0gdGhpcy5saW5rO1xuICAgIHRoaXMuX2NhcmRQaG90by5hbHQgPSB0aGlzLm5hbWU7XG4gICAgdGhpcy5fY2FyZExhYmVsLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufSAvL2VuZCBvZiBjbGFzcyBDYXJkXG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCJjbGFzcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IpIHtcbiAgICAvL21ha2Ugc3VyZSB0aGUgcGFyZW50IHVzZXMgZ2xvYmFsIG5vdCBwcml2YXRlIHNvIGNoaWxkZW4gY2FuIHVzZSBpdC5cbiAgICB0aGlzLm1vZGFsU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vZGFsU2VsZWN0b3IpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5tb2RhbFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgLy9zdGFydHMgdG8gbGlzdGVuIGZvciBlc2NcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgLy9jbG9zZXMgbW9kYWxcbiAgICB0aGlzLm1vZGFsU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICAvL3N0b3BzIGxpc3RlbmluZyBmb3IgZXNjXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5jdXJyZW50Q2xvc2VCdXR0b24gPSB0aGlzLm1vZGFsU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XG4gICAgdGhpcy5jdXJyZW50Q2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5tb2RhbENvbnRhaW5lciA9IHRoaXMubW9kYWxTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XG4gICAgdGhpcy5tb2RhbFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgLy9tYWtlIHZhcmlhYmxlIHRvIGtub3cgaWYgaW5zaWRlIG1vZGFsIGNvbnRhaW5lciBvciBub3RcbiAgICAgIGxldCBpc0luc2lkZUNvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0ID09PSB0aGlzLm1vZGFsQ29udGFpbmVyIHx8XG4gICAgICAgIHRoaXMubW9kYWxDb250YWluZXIuY29udGFpbnMoZXZ0LnRhcmdldClcbiAgICAgICkge1xuICAgICAgICBpc0luc2lkZUNvbnRhaW5lciA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNJbnNpZGVDb250YWluZXIgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RhbDtcbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xuXG5jbGFzcyBNb2RhbFdpdGhGb3JtIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcih7IG1vZGFsU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdEZvcm0gfSkge1xuICAgIHN1cGVyKG1vZGFsU2VsZWN0b3IpO1xuICAgIHRoaXMuX21vZGFsU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vZGFsU2VsZWN0b3IpO1xuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX21vZGFsU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dEZpZWxkcyA9IHRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtID0gaGFuZGxlU3VibWl0Rm9ybTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX21vZGFsRm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICAvL21hZGUgY29tbWVudHMgdG8gbGVhcm4gZnJvbSBtaXN0YWtlc1xuICAvL2Z1bmN0aW9uIHRvIGdldCB0aGUgdmFsdWVzIG9mIGV2ZXJ5IGlucHV0XG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAvL2dldHMgYWxsIGlucHV0cyBhcyBhbiBhcnJheVxuICAgIGNvbnN0IGlucHV0TGlzdCA9IFtcbiAgICAgIC4uLnRoaXMuX21vZGFsU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIiksXG4gICAgXTtcblxuICAgIC8vbWFrZSBhbiBvYmplY3QgdG8gY29udGFpbiB0aGUgdmFsdWVzXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcblxuICAgIC8vZ29lcyB0aG91Z2ggdGhlIGlucHV0IGxpc3QgYXJyYXksIHRoZW4gYXNzaWducyB0aGUgYXR0cmlidXRlcyBmb3IgZWFjaCBpbnB1dFxuICAgIGZvciAoY29uc3QgaW5wdXQgb2YgaW5wdXRMaXN0KSB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSh0aGlzLmRhdGEpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE1vZGFsV2l0aEZvcm07XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5WYXJpYWJsZXNcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTdWJUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XG5leHBvcnQgY29uc3QgaW5wdXRUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGl0bGVcIik7XG5leHBvcnQgY29uc3QgaW5wdXRTdWJUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3VidGl0bGVcIik7XG4vL3NlbGVjdHMgdGhlIGVkaXQgYnV0dG9uIGluIHByb2ZpbGUgc2VjdGlvblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuLy9zZWxlY3QgdGhlIGZvcm0gZm9yIHBlcnNvblxuZXhwb3J0IGNvbnN0IGZvcm1QZXJzb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsX19mb3JtLXBlcnNvblwiKTtcbi8vc2VsZWN0IHRoZSBmb3JtIGZvciBhZGRpbmdcbmV4cG9ydCBjb25zdCBmb3JtSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbF9fZm9ybS1pbWdcIik7XG4vL3NlbGVjdHMgYWRkIGJ1dHRvblxuZXhwb3J0IGNvbnN0IG1vZGFsQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWFkZC1idXR0b25cIik7XG4iLCIvL2ltcG9ydCBqcyBhbmQgY3NzIGZpbGVzXG5cbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBNb2RhbFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aEZvcm0uanNcIjtcbmltcG9ydCBNb2RhbFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Nb2RhbFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIGlucHV0VGl0bGUsXG4gIGlucHV0U3ViVGl0bGUsXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBmb3JtUGVyc29uLFxuICBmb3JtSW1nLFxuICBtb2RhbEFkZCxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuSW5pdGlhbCBjYXJkcyBhcnJheVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcbiAgfSxcbl07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkZ1bmN0aW9uc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblNwcmludCA4IHN0YXJ0XG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLy9tYWtlIHN1cmUgdG8gZGVmaW5lIHRoZSBmdW5jdGlvbnMgYmVmb3JlIHRyeWluZyB0byBjYWxsIHRoZW0uXG4vL3ByZXZpZXcgcGhvdG9cbmNvbnN0IHByZXZpZXdNb2RhbCA9IG5ldyBNb2RhbFdpdGhJbWFnZShcIiNwaG90by1tb2RhbFwiKTtcbmNvbnN0IGhhbmRsZUltYWdlQ2xpY2sgPSAoZGF0YSkgPT4ge1xuICAvL3JldmVhbHMgbW9kYWxcbiAgcHJldmlld01vZGFsLm9wZW4oZGF0YSk7XG59O1xucHJldmlld01vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vYWNjZXNzIHRoZSBncmlkIG9mIGNhcmRzXG5jb25zdCBjYXJkR2FsbGVyeVNlbGVjdG9yID0gXCIuZ2FsbGVyeV9fZ3JpZFwiO1xuLy9hY2Nlc3MgdGhlIGNhcmQgdGVtcGxhdGVcbmNvbnN0IGNhcmRTZWxlY3RvciA9IFwiI2NhcmQtdGVtcGxhdGVcIjtcblxuLy9mdW5jdGlvbiB0byBjcmVhdGUgY2FyZFxubGV0IHBsYWNlID0gXCJhcHBlbmRcIjtcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdldFZpZXcoKTtcblxuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQsIHBsYWNlKTtcbn07XG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHsgaXRlbXM6IGluaXRpYWxDYXJkcywgcmVuZGVyZXI6IGNyZWF0ZUNhcmQgfSxcbiAgY2FyZEdhbGxlcnlTZWxlY3RvclxuKTtcbnNlY3Rpb24ucmVuZGVySXRlbXMoKTtcblxuLy9tYWtlIGdsb2JhbCBpbnN0YW5jZSBvZiBVc2VyaW5mbyBjbGFzc1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBwcm9maWxlTmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBwcm9maWxlSm9iU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIsXG59KTtcblxuLy9mdW5jdGlvbiB0byBzYXZlIHBlcnNvbi4gdGhpcyB0YWtlcyBkYXRhIGZyb20gdGhlIGZvcm0sXG4vL3RoZW4gbGV0cyB1c2VyaW5mbyB1c2UgaXRcbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKGRhdGEpID0+IHtcbiAgLy9hZGQgdGhlIGluZm8gdG8gdGhlIHBhZ2VcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YS50aXRsZSwgZGF0YS5zdWJ0aXRsZSk7XG59O1xuXG4vL2Z1bmN0aW9uIHRvIGNyZWF0ZSBuZXcgY2FyZCBpbWdcbmNvbnN0IGhhbmRsZUltZ0Zvcm1TdWJtaXQgPSAoZGF0YSkgPT4ge1xuICAvL2NyZWF0ZSBuZXcgY2FyZFxuICBjb25zdCBuZXdDYXJkID0ge1xuICAgIG5hbWU6IGRhdGEuaW1nVGl0bGUsXG4gICAgbGluazogZGF0YS5pbWdVUkwsXG4gICAgYWx0OiBkYXRhLmltZ1RpdGxlLFxuICB9O1xuICBwbGFjZSA9IFwicHJlcGVuZFwiO1xuICBjcmVhdGVDYXJkKG5ld0NhcmQpO1xufTtcblxuLy9lZGl0IHByb2ZpbGUgcGVyc29uIGZvcm1cbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XG4gIG1vZGFsU2VsZWN0b3I6IFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVTdWJtaXRGb3JtOiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCxcbn0pO1xuY29uc3Qgb3BlblBlcnNvbk1vZGFsID0gKCkgPT4ge1xuICBlZGl0UHJvZmlsZU1vZGFsLm9wZW4oKTtcbiAgLy9tYWtlcyBjdXJyZW50IHRleHQgdGhlIGlucHV0IHRleHQgd2hlbiBvcGVuIHRoZSBtb2RhbFxuICBjb25zdCB7IG5hbWUsIGpvYiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXRUaXRsZS52YWx1ZSA9IG5hbWU7XG4gIGlucHV0U3ViVGl0bGUudmFsdWUgPSBqb2I7XG59O1xuLy9jbGljayBlZGl0IGJ1dHRvbiB0byBvcGVuIHBlcnNvbiBtb2RhbFxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5QZXJzb25Nb2RhbCk7XG5lZGl0UHJvZmlsZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vYWRkIGNhcmQgaW1hZ2UgZm9ybVxuY29uc3QgbmV3Q2FyZE1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNpbWctY3JlYXRlLW1vZGFsXCIsXG4gIGhhbmRsZVN1Ym1pdEZvcm06IGhhbmRsZUltZ0Zvcm1TdWJtaXQsXG59KTtcbmNvbnN0IG9wZW5DYXJkTW9kYWwgPSAoKSA9PiB7XG4gIG5ld0NhcmRNb2RhbC5vcGVuKCk7XG59O1xuLy9jbGljayBhZGQgYnV0dG9uIHRvIG9wZW4gaW1nIG1vZGFsXG5tb2RhbEFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlbkNhcmRNb2RhbCk7XG5uZXdDYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuU3ByaW50IDggZW5kXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5mZXRjaChcImh0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0c1wiLCB7XG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImM1NmUzMGRjLTI4ODMtNDI3MC1hNTllLWIyZjdiYWU5NjljNlwiLFxuICB9LFxufSlcbiAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZGF0YTpcIiwgZXJyb3IpO1xuICB9KTtcblxuLy9tb3ZlIHRoZSBjb25maWcgdmFyaWFibGUgaGVyZVxuY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ1dHRvbjpkaXNhYmxlZFwiLFxuICBpbnB1dEludmFsaWRDbGFzczogXCJtb2RhbF9faW5wdXRfaW52YWxpZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbi8vY2FsbCBhbmQgbWFrZSBhIG5ldyBmb3JtVmFsaWRhdG9yIHdpdGggdGhlIHNwZWNpZmljIHBhcmFtZXRlcnMgb2YgdGhlIHJlbGF0aXZlIG9iamVjdFxuXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybVBlcnNvbik7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1JbWcpO1xuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcblxuY2xhc3MgTW9kYWxXaXRoSW1hZ2UgZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IpIHtcbiAgICBzdXBlcihtb2RhbFNlbGVjdG9yKTtcbiAgICB0aGlzLl9ib3hQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2JveC1waG90b1wiKTtcbiAgICB0aGlzLl9ib3hUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2JveC10aXRsZVwiKTtcbiAgfVxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9ib3hQaG90by5zcmMgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fYm94UGhvdG8uYWx0ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2JveFRpdGxlLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kYWxXaXRoSW1hZ2U7XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAvL1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIC8vY2FsbCB0aGUgcmVuZGVyZXIoKSBmdW5jdGlvbiBvbiBlYWNoIGl0ZW1cbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSwgcGxhY2UgPSBcImFwcGVuZFwiKSB7XG4gICAgLy9hbGxvd3MgdGhlIG5ldyBzdWJtaXR0ZWQgY2FyZCBpcyBwcmVwZW5kZWQgJiBpbml0aWFsIGNhcmRzIGFyZSBhcHBlbmRlZFxuICAgIGlmIChwbGFjZSA9PT0gXCJhcHBlbmRcIikge1xuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChpdGVtKTtcbiAgICB9XG4gICAgaWYgKHBsYWNlID09PSBcInByZXBlbmRcIikge1xuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XG4iLCJjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgcHJvZmlsZU5hbWVTZWxlY3RvciwgcHJvZmlsZUpvYlNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUpvYlNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIC8vbWFrZSBhbiBvYmplY3QgdG8gY29udGFpbiBuYW1lIGFuZCBqb2IgaW5mb1xuICAgIGNvbnN0IGluZm8gPSB7XG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgam9iOiBcIlwiLFxuICAgIH07XG4gICAgaW5mby5uYW1lID0gdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gICAgaW5mby5qb2IgPSB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50O1xuICAgIHJldHVybiBpbmZvO1xuICB9XG5cbiAgc2V0VXNlckluZm8obmFtZSwgam9iKSB7XG4gICAgLy9hZGQgdGhlIGluZm8gdG8gdGhlIHBhZ2VcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbztcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX25hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRJbnZhbGlkQ2xhc3MiLCJpbnB1dEludmFsaWRDbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsImRpc2FibGVCdXR0b24iLCJidXR0b24iLCJkaXNhYmxlZCIsImVuYWJsZUJ1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2hpZGVJbnB1dEVycm9yIiwicmVtb3ZlIiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwib3B0aW9ucyIsInZhbGlkaXR5IiwidmFsaWQiLCJfY2hlY2tGb3JtVmFsaWRpdHkiLCJpbnB1dEVsZW1lbnRzIiwiZXZlcnkiLCJpbnB1dCIsIl90b2dnbGVCdXR0b25BYmlsaXR5Iiwic3VibWl0QnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJuYW1lIiwibGluayIsImFsdCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9oYW5kbGVUb2dnbGVMaWtlIiwiX2xpa2VCdXR0b24iLCJ0b2dnbGUiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9lbGVtZW50IiwiX3RyYXNoQnV0dG9uIiwiX2NhcmRQaG90byIsImdldFZpZXciLCJfY2FyZExhYmVsIiwic3JjIiwibW9kYWxTZWxlY3RvciIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsImN1cnJlbnRDbG9zZUJ1dHRvbiIsImJpbmQiLCJtb2RhbENvbnRhaW5lciIsInN0b3BQcm9wYWdhdGlvbiIsImlzSW5zaWRlQ29udGFpbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJNb2RhbCIsIl9yZWYiLCJoYW5kbGVTdWJtaXRGb3JtIiwic3VwZXIiLCJfbW9kYWxTZWxlY3RvciIsIl9tb2RhbEZvcm0iLCJfaW5wdXRGaWVsZHMiLCJfaGFuZGxlU3VibWl0Rm9ybSIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRMaXN0IiwiaW5wdXRWYWx1ZXMiLCJ2YWx1ZSIsImV2ZW50IiwiaW5wdXRUaXRsZSIsImlucHV0U3ViVGl0bGUiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImZvcm1QZXJzb24iLCJmb3JtSW1nIiwibW9kYWxBZGQiLCJwcmV2aWV3TW9kYWwiLCJfYm94UGhvdG8iLCJfYm94VGl0bGUiLCJwbGFjZSIsImNyZWF0ZUNhcmQiLCJpdGVtIiwiY2FyZEVsZW1lbnQiLCJDYXJkIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJhcHBlbmQiLCJwcmVwZW5kIiwidXNlckluZm8iLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUpvYlNlbGVjdG9yIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVKb2IiLCJnZXRVc2VySW5mbyIsImluZm8iLCJqb2IiLCJzZXRVc2VySW5mbyIsImVkaXRQcm9maWxlTW9kYWwiLCJNb2RhbFdpdGhGb3JtIiwidGl0bGUiLCJzdWJ0aXRsZSIsIm9wZW5QZXJzb25Nb2RhbCIsIm5ld0NhcmRNb2RhbCIsIm5ld0NhcmQiLCJpbWdUaXRsZSIsImltZ1VSTCIsIm9wZW5DYXJkTW9kYWwiLCJmZXRjaCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidGhlbiIsInJlcyIsImpzb24iLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImZvcm1TZWxlY3RvciIsIkZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9