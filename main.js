!function(){"use strict";var e=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputInvalidClass=e.inputInvalidClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}disableButton(e){e.disabled=!0}enableButton(e){e.disabled=!1}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);t.textContent=e.validationMessage,t.classList.add(this._errorClass),e.classList.add(this._inputInvalidClass)}_hideInputError(e){this._form.querySelector(`#${e.id}-error`).classList.remove(this._errorClass),e.classList.remove(this._inputInvalidClass)}checkInputValidity(e,t){e.validity.valid?this._hideInputError(e,t):this._showInputError(e,t)}_checkFormValidity=()=>this.inputElements.every((e=>e.validity.valid));_toggleButtonAbility=()=>{this._checkFormValidity()?this.enableButton(this.submitButton):this.disableButton(this.submitButton)};_setEventListeners(){this.inputElements=[...this._form.querySelectorAll(this._inputSelector)],this.submitButton=this._form.querySelector(this._submitButtonSelector),this.inputElements.forEach((e=>{e.addEventListener("input",(t=>{this.checkInputValidity(e),this._toggleButtonAbility(this.inputElements)}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this.disableButton(this.submitButton)})),this._setEventListeners()}},t=class{constructor(e){let{data:t,cardSelector:s,handleImageClick:o,handleTrashClick:r,handleDeleteConfirm:i,toggleLike:n}=e;this.name=t.name,this.link=t.link,this.alt=t.alt,this._id=t._id,this._cardSelector=s,this._handleImageClick=o,this._handleTrashClick=r,this._handleDeleteConfirm=i,this._toggleLike=n,this._isLiked=t.isLiked||!1}getId(){return this._id}removeCard(){this._element.remove()}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".gallery__card").cloneNode(!0)}setIsLiked(e){this._isLiked=e,this._renderLikes()}isLiked(){return this._isLiked}_renderLikes(){this._isLiked?this._likeButton.classList.add("gallery__like-button_clicked"):this._likeButton.classList.remove("gallery__like-button_clicked")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._toggleLike())),this._trashButton.addEventListener("click",(()=>this._handleTrashClick())),this._cardPhoto.addEventListener("click",(()=>{this._handleImageClick({name:this.name,link:this.link})}))}getView(){return this._element=this._getTemplate(),this._cardPhoto=this._element.querySelector(".gallery__image"),this._likeButton=this._element.querySelector(".gallery__like-button"),this._trashButton=this._element.querySelector(".gallery__delete-button"),this._cardLabel=this._element.querySelector(".gallery__label"),this._cardPhoto.src=this.link,this._cardPhoto.alt=this.name,this._cardLabel.textContent=this.name,this._renderLikes(),this._setEventListeners(),this._element}},s=class{constructor(e,t){let{items:s,renderer:o}=e;this._items=s,this._renderer=o,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append";"append"===t&&this._container.append(e),"prepend"===t&&this._container.prepend(e)}},o=class{constructor(e){this.modalSelector=document.querySelector(e)}open(){this.modalSelector.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this.modalSelector.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this.currentCloseButton=this.modalSelector.querySelector(".modal__close"),this.currentCloseButton.addEventListener("click",this.close.bind(this)),this.modalContainer=this.modalSelector.querySelector(".modal__container"),this.modalSelector.addEventListener("mousedown",(e=>{e.stopPropagation();let t=!1;(e.target===this.modalContainer||this.modalContainer.contains(e.target))&&(t=!0),!1===t&&this.close()}))}},r=class extends o{constructor(e){let{modalSelector:t,handleSubmitForm:s,loadingButtonText:o}=e;super(t),this._modalSelector=document.querySelector(t),this._modalForm=this._modalSelector.querySelector(".modal__form"),this._submitButton=this._modalForm.querySelector(".modal__submit-button"),this._buttonText=this._submitButton.textContent,this._loadingButtonText=o,this._handleSubmitForm=s}showLoading(){this._submitButton.textContent=this._loadingButtonText}hideLoading(){this._submitButton.textContent=this._buttonText}close(){this._modalForm.reset(),super.close()}_getInputValues(){const e=[...this._modalSelector.querySelectorAll(".modal__input")],t={};for(const s of e)t[s.name]=s.value;return t}setEventListeners(){this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this.data=this._getInputValues(),this._handleSubmitForm(this.data)})),super.setEventListeners()}};document.querySelector(".profile__title"),document.querySelector(".profile__subtitle");const i=document.querySelector("#title"),n=document.querySelector("#subtitle"),l=document.querySelector("#pfp-URL"),a=document.querySelector(".modal__save-button"),d=document.querySelector(".modal__create-button"),c=document.querySelector(".modal__savePfp-button"),h=document.querySelector("#profile-edit-button"),u=document.querySelector("#modal__form-person"),m=document.querySelector("#modal__form-img"),_=document.querySelector("#changePfp-modal"),p=document.querySelector("#profile-add-button"),b=new class{constructor(e){let{baseUrl:t}=e;this._baseUrl=t,this._headers={authorization:"6d7ae9eb-8869-410f-b35c-8e1dcc44f04b","Content-Type":"application/json"}}_processResponse=e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`);getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._processResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers}).then(this._processResponse)}editProfile(e){let{name:t,about:s}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then(this._processResponse)}changePfp(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._processResponse)}addNewCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._processResponse)}deleteCard(e){let{cardId:t}=e;return fetch(`${this._baseUrl}/cards/${t}`,{method:"DELETE",headers:this._headers}).then(this._processResponse)}addLike(e){let{cardId:t,isLiked:s}=e;return fetch(`${this._baseUrl}/cards/${t}/likes`,{method:"PUT",headers:this._headers,body:JSON.stringify({isLiked:s})}).then(this._processResponse)}removeLike(e){let{cardId:t}=e;return fetch(`${this._baseUrl}/cards/${t}/likes`,{method:"DELETE",headers:this._headers}).then(this._processResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1"}),g=new class{constructor(e,t){let{profileNameSelector:s,profileJobSelector:o,profilePictureSelector:r}=e;this._profileName=document.querySelector(s),this._profileJob=document.querySelector(o),this._profilePicture=document.querySelector(r)}getUserInfo(){const e={name:"",job:"",picture:""};return e.name=this._profileName.textContent,e.job=this._profileJob.textContent,e.picture=this._profilePicture.src,e}setUserInfo(e){let{name:t,job:s,picture:o}=e;t&&(this._profileName.textContent=t),s&&(this._profileJob.textContent=s),o&&(this._profilePicture.src=o)}setUserPicture(e){let{picture:t}=e;this.setUserInfo({picture:t})}}({profileNameSelector:".profile__title",profileJobSelector:".profile__subtitle",profilePictureSelector:".profile__picture"});b.getUserInfo().then((e=>{console.log(e),g.setUserInfo({name:e.name,job:e.about,picture:e.avatar})})).catch((e=>{console.error("Error fetching user info: ",e)}));const f=new class extends o{constructor(e){super(e),this._boxPhoto=document.querySelector(".modal__box-photo"),this._boxTitle=document.querySelector(".modal__box-title")}open(e){this._boxPhoto.src=e.link,this._boxPhoto.alt=e.name,this._boxTitle.textContent=e.name,super.open()}setEventListeners(){super.setEventListeners()}}("#photo-modal"),S=e=>{f.open(e)};f.setEventListeners();const L=".gallery__grid";let v="append";const y=e=>{const s=new t({data:e,cardSelector:"#card-template",handleImageClick:S,handleTrashClick:()=>{const e=s.getId();C.setAction((()=>E(s,e))),C.open()},toggleLike:()=>{const e=s.getId(),t=s.isLiked();t?b.removeLike({cardId:e,isLiked:t}).then((t=>{s.setIsLiked(!1),console.log(`disliking: ${e}`),console.log(t)})).catch((e=>{console.error("Error. The request has failed: ",e)})):b.addLike({cardId:e,isLiked:t}).then((t=>{s.setIsLiked(!0),console.log(`liking: ${e}`),console.log(t)})).catch((e=>{console.error("Error. The request has failed: ",e)}))}}),o=s.getView();return k.addItem(o,v),{card:s,cardId:s.getId()}},k=new s({items:[],renderer:y},L),E=(e,t)=>{C.showLoading(),b.deleteCard({cardId:t}).then((s=>{console.log(s,t),e.removeCard(),console.log(`deleting: ${t}`),C.close()})).catch((e=>{console.error("Error. The request has failed: ",e)})).finally((()=>{C.hideLoading()}))},C=new class extends o{constructor(e){let{modalSelector:t,loadingButtonText:s}=e;super(t),this._modalSelector=document.querySelector(t),this._modalForm=this._modalSelector.querySelector(".modal__form"),this._submitButton=this._modalForm.querySelector(".modal__submit-button"),this._buttonText=this._submitButton.textContent,this._loadingButtonText=s}setAction(e){this._handleFormSubmit=e}showLoading(){this._submitButton.textContent=this._loadingButtonText}hideLoading(){this._submitButton.textContent=this._buttonText}close(){super.close()}setEventListeners(){this._modalForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit&&this._handleFormSubmit()})),super.setEventListeners()}}({modalSelector:"#confirm-modal",loadingButtonText:"Saving"});C.setEventListeners(),b.getInitialCards().then((e=>{new s({items:e,renderer:y},L).renderItems()})).catch((e=>{console.error("Error. The request has failed: ",e)}));const q=new r({modalSelector:"#profile-edit-modal",handleSubmitForm:e=>{console.log(e),q.showLoading(),b.editProfile({name:e.title,about:e.subtitle}).then((t=>{console.log(t),g.setUserInfo({name:e.title,job:e.subtitle}),q.close()})).catch((e=>{console.error("Error. The request has failed: ",e)})).finally((()=>{q.hideLoading()}))},loadingButtonText:"Saving"}),I=new r({modalSelector:"#changePfp-modal",handleSubmitForm:e=>{I.showLoading(),b.changePfp({avatar:`${e.pfpURL}`}).then((t=>{console.log(t),g.setUserPicture({picture:e.pfpURL}),console.log(`changed pfp url to: ${e.pfpURL} `),I.close()})).catch((e=>{console.error("Error. The request has failed: ",e)})).finally((()=>{I.hideLoading()}))},loadingButtonText:"Saving"});document.querySelector(".profile__picture-container").addEventListener("click",(()=>{I.open(),console.log(c),c.textContent="Save";const{picture:e}=g.getUserInfo();l.value=e})),I.setEventListeners(),h.addEventListener("click",(()=>{q.open(),a.textContent="Save";const{name:e,job:t}=g.getUserInfo();i.value=e,n.value=t})),q.setEventListeners();const B=new r({modalSelector:"#img-create-modal",handleSubmitForm:e=>{B.showLoading(),console.log(e),console.log(e.imgTitle,e.imgURL),b.addNewCard({name:e.imgTitle,link:e.imgURL}).then((e=>{const t={name:e.name,link:e.link,alt:e.name,_id:e._id};v="prepend",y(t),B.close()})).catch((e=>{console.error("Error. The request has failed: ",e)})).finally((()=>{B.hideLoading()}))},loadingButtonText:"Saving"});p.addEventListener("click",(()=>{B.open(),d.textContent="Create"})),B.setEventListeners();const x={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button:disabled",inputInvalidClass:"modal__input_invalid",inputErrorClass:"modal__error",errorClass:"modal__error_visible"};function T(t,s){const o=new e(t,s);return o.enableValidation(),o}T(x,u),T(x,m),T(x,_)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2JrQyxFQUFlMUcsWUFBYyxRQUFRLElBSXZDZ00sRUFBYW5ILG9CQUdiLE1BQU10RyxFQUFTLENBQ2I4TixhQUFjLGVBQ2QxTixjQUFlLGdCQUNmRSxxQkFBc0Isd0JBQ3RCRSxvQkFBcUIsZ0NBQ3JCRSxrQkFBbUIsdUJBQ25CRSxnQkFBaUIsZUFDakJFLFdBQVksd0JBSWQsU0FBU2lOLEVBQXdCL04sRUFBUWdPLEdBQ3ZDLE1BQU1DLEVBQWdCLElBQUlDLEVBQWNsTyxFQUFRZ08sR0FFaEQsT0FEQUMsRUFBY25MLG1CQUNQbUwsQ0FDVCxDQUMwQkYsRUFBd0IvTixFQUFRc0ksR0FDakN5RixFQUF3Qi9OLEVBQVF1SSxHQUMxQndGLEVBQXdCL04sRUFBUXdJLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Nb2RhbFdpdGhDb25maXJtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vbWFrZSBhIGNsYXNzIGNhbGxlZCBGb3JtVmFsaWRhdG9yXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgLy9hbGwgY2xhc3NlcyBoYXZlIGEgY29uc3RydWN0b3JcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MgPSBjb25maWcuaW5wdXRJbnZhbGlkQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xuICB9XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICBtb3ZlIGZ1bmN0aW9ucyBmcm9tIGluZGV4IHRvIGhlcmUsIGFuZCB1c2UgXCJ0aGlzXCJcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAvL3VuaXZlcnNhbCBnbG9iYWwgZnVuY3Rpb24gdG8gZGlzYWJsZSBidXR0b25zXG4gIGRpc2FibGVCdXR0b24oYnV0dG9uKSB7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuICAvL3VuaXZlcnNhbCBmdW5jdGlvbiB0byBlbmFibGUgYnV0dG9uc1xuICBlbmFibGVCdXR0b24oYnV0dG9uKSB7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICAvL2Z1bmN0aW9uIHRvIHNob3cgaW5wdXQgZXJyb3JcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0SW52YWxpZENsYXNzKTtcbiAgfVxuICAvL2Z1bmN0aW9uIHRvIGhpZGUgaW5wdXIgZXJyb3JcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEludmFsaWRDbGFzcyk7XG4gIH1cbiAgLy9mdW5jdGlvbiB0byBjaGVjayBpbnB1dCB2YWxpZGl0eVxuICBjaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50LCBvcHRpb25zKSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgLy90aGUgXCJ0aGlzLmlucHV0RWxlbWVudHNcIiBpcyBkZWZpbmVkIGFzIGFuIGFycmF5IHVzaW5nIFtdIGluIF9zZXRFdmVudExpc3RlbmVycygpXG4gIF9jaGVja0Zvcm1WYWxpZGl0eSA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dEVsZW1lbnRzLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25BYmlsaXR5ID0gKCkgPT4ge1xuICAgIGNvbnN0IGlzRm9ybVZhbGlkID0gdGhpcy5fY2hlY2tGb3JtVmFsaWRpdHkoKTtcbiAgICBpZiAoIWlzRm9ybVZhbGlkKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24odGhpcy5zdWJtaXRCdXR0b24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbih0aGlzLnN1Ym1pdEJ1dHRvbik7XG4gICAgfVxuICB9O1xuICAvL2FkZEV2ZW50TGlzdGVuZXJzXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvL25vdywgdGhpcyBpcyB1c2VkIHRvIHJlZmVyIHRvIHRoZSBvYmplY3QgaW4gcXVlc3Rpb24sIHNvIGl0cyBwcm9wZXJ0aWVzIGFyZSBhbHNvIGFibGUgdG8gYmUgcmVmZXJyZWQgdG8uXG4gICAgdGhpcy5pbnB1dEVsZW1lbnRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gICAgdGhpcy5pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZ0KSA9PiB7XG4gICAgICAgIHRoaXMuY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbkFiaWxpdHkodGhpcy5pbnB1dEVsZW1lbnRzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy9lbmFibGVWYWxpZGF0aW9uXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy9kaXNhYmxlIHRoZSBidXR0b24gb24gYSBzdWNjZXNzZnVsIHN1Ym1pdFxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKHRoaXMuc3VibWl0QnV0dG9uKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59IC8vIGVuZCBvZiBjbGFzcyBGb3JtVmFsaWRhdG9yXG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCIvL3JlcGxhY2VzIHRoZSBnZXRDYXJkRWxlbWVudCBmdW5jdGlvblxuY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZVRyYXNoQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ29uZmlybSxcbiAgICB0b2dnbGVMaWtlLFxuICB9KSB7XG4gICAgdGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMubGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLmFsdCA9IGRhdGEuYWx0O1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZVRyYXNoQ2xpY2sgPSBoYW5kbGVUcmFzaENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNvbmZpcm0gPSBoYW5kbGVEZWxldGVDb25maXJtO1xuICAgIHRoaXMuX3RvZ2dsZUxpa2UgPSB0b2dnbGVMaWtlO1xuICAgIHRoaXMuX2lzTGlrZWQgPSBkYXRhLmlzTGlrZWQgfHwgZmFsc2U7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG4gIC8vY2xvbmUgdGhlIHRlbXBsYXRlIGVsZW1lbnQgd2l0aCBhbGwgaXRzIGNvbnRlbnRcbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICB9XG5cbiAgLy9saWtlIGNvZGU6XG5cbiAgc2V0SXNMaWtlZChpc0xpa2VkKSB7XG4gICAgdGhpcy5faXNMaWtlZCA9IGlzTGlrZWQ7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgfVxuXG4gIGlzTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzTGlrZWQ7XG4gIH1cblxuICBfcmVuZGVyTGlrZXMoKSB7XG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImdhbGxlcnlfX2xpa2UtYnV0dG9uX2NsaWNrZWRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImdhbGxlcnlfX2xpa2UtYnV0dG9uX2NsaWNrZWRcIik7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX3RvZ2dsZUxpa2UoKSk7XG4gICAgdGhpcy5fdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZVRyYXNoQ2xpY2soKSk7XG4gICAgdGhpcy5fY2FyZFBob3RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5uYW1lLCBsaW5rOiB0aGlzLmxpbmsgfSk7XG4gICAgfSk7XG4gIH1cbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkUGhvdG8gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9faW1hZ2VcIik7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19kZWxldGUtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRMYWJlbCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19sYWJlbFwiKTtcbiAgICB0aGlzLl9jYXJkUGhvdG8uc3JjID0gdGhpcy5saW5rO1xuICAgIHRoaXMuX2NhcmRQaG90by5hbHQgPSB0aGlzLm5hbWU7XG4gICAgdGhpcy5fY2FyZExhYmVsLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufSAvL2VuZCBvZiBjbGFzcyBDYXJkXG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAvL1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIC8vY2FsbCB0aGUgcmVuZGVyZXIoKSBmdW5jdGlvbiBvbiBlYWNoIGl0ZW1cbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSwgcGxhY2UgPSBcImFwcGVuZFwiKSB7XG4gICAgLy9hbGxvd3MgdGhlIG5ldyBzdWJtaXR0ZWQgY2FyZCBpcyBwcmVwZW5kZWQgJiBpbml0aWFsIGNhcmRzIGFyZSBhcHBlbmRlZFxuICAgIGlmIChwbGFjZSA9PT0gXCJhcHBlbmRcIikge1xuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChpdGVtKTtcbiAgICB9XG4gICAgaWYgKHBsYWNlID09PSBcInByZXBlbmRcIikge1xuICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XG4iLCJjbGFzcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IpIHtcbiAgICAvL21ha2Ugc3VyZSB0aGUgcGFyZW50IHVzZXMgZ2xvYmFsIG5vdCBwcml2YXRlIHNvIGNoaWxkZW4gY2FuIHVzZSBpdC5cbiAgICB0aGlzLm1vZGFsU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vZGFsU2VsZWN0b3IpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5tb2RhbFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgLy9zdGFydHMgdG8gbGlzdGVuIGZvciBlc2NcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgLy9jbG9zZXMgbW9kYWxcbiAgICB0aGlzLm1vZGFsU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICAvL3N0b3BzIGxpc3RlbmluZyBmb3IgZXNjXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5jdXJyZW50Q2xvc2VCdXR0b24gPSB0aGlzLm1vZGFsU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XG4gICAgdGhpcy5jdXJyZW50Q2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5tb2RhbENvbnRhaW5lciA9IHRoaXMubW9kYWxTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XG4gICAgdGhpcy5tb2RhbFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgLy9tYWtlIHZhcmlhYmxlIHRvIGtub3cgaWYgaW5zaWRlIG1vZGFsIGNvbnRhaW5lciBvciBub3RcbiAgICAgIGxldCBpc0luc2lkZUNvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0ID09PSB0aGlzLm1vZGFsQ29udGFpbmVyIHx8XG4gICAgICAgIHRoaXMubW9kYWxDb250YWluZXIuY29udGFpbnMoZXZ0LnRhcmdldClcbiAgICAgICkge1xuICAgICAgICBpc0luc2lkZUNvbnRhaW5lciA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNJbnNpZGVDb250YWluZXIgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RhbDtcbiIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xuXG5jbGFzcyBNb2RhbFdpdGhGb3JtIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcih7IG1vZGFsU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdEZvcm0sIGxvYWRpbmdCdXR0b25UZXh0IH0pIHtcbiAgICBzdXBlcihtb2RhbFNlbGVjdG9yKTtcbiAgICB0aGlzLl9tb2RhbFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb2RhbFNlbGVjdG9yKTtcbiAgICB0aGlzLl9tb2RhbEZvcm0gPSB0aGlzLl9tb2RhbFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fbW9kYWxGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIik7XG4gICAgdGhpcy5fYnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB0aGlzLl9sb2FkaW5nQnV0dG9uVGV4dCA9IGxvYWRpbmdCdXR0b25UZXh0O1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0gPSBoYW5kbGVTdWJtaXRGb3JtO1xuICB9XG5cbiAgc2hvd0xvYWRpbmcoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fbG9hZGluZ0J1dHRvblRleHQ7XG4gIH1cbiAgaGlkZUxvYWRpbmcoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uVGV4dDtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX21vZGFsRm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICAvL21hZGUgY29tbWVudHMgdG8gbGVhcm4gZnJvbSBtaXN0YWtlc1xuICAvL2Z1bmN0aW9uIHRvIGdldCB0aGUgdmFsdWVzIG9mIGV2ZXJ5IGlucHV0XG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAvL2dldHMgYWxsIGlucHV0cyBhcyBhbiBhcnJheVxuICAgIGNvbnN0IGlucHV0TGlzdCA9IFtcbiAgICAgIC4uLnRoaXMuX21vZGFsU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIiksXG4gICAgXTtcblxuICAgIC8vbWFrZSBhbiBvYmplY3QgdG8gY29udGFpbiB0aGUgdmFsdWVzXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcblxuICAgIC8vZ29lcyB0aG91Z2ggdGhlIGlucHV0IGxpc3QgYXJyYXksIHRoZW4gYXNzaWducyB0aGUgYXR0cmlidXRlcyBmb3IgZWFjaCBpbnB1dFxuICAgIGZvciAoY29uc3QgaW5wdXQgb2YgaW5wdXRMaXN0KSB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuZGF0YSA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHRoaXMuZGF0YSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgTW9kYWxXaXRoRm9ybTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblZhcmlhYmxlc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVN1YlRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19zdWJ0aXRsZVwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dFN1YlRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdWJ0aXRsZVwiKTtcbmV4cG9ydCBjb25zdCBpbnB1dFBpY3R1cmVVcmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BmcC1VUkxcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVNhdmVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBjYXJkU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NyZWF0ZS1idXR0b25cIik7XG5leHBvcnQgY29uc3QgcGZwU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmVQZnAtYnV0dG9uXCIpO1xuLy9zZWxlY3RzIHRoZSBlZGl0IGJ1dHRvbiBpbiBwcm9maWxlIHNlY3Rpb25cbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcbi8vc2VsZWN0IHRoZSBmb3JtIGZvciBwZXJzb25cbmV4cG9ydCBjb25zdCBmb3JtUGVyc29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbF9fZm9ybS1wZXJzb25cIik7XG4vL3NlbGVjdCB0aGUgZm9ybSBmb3IgYWRkaW5nXG5leHBvcnQgY29uc3QgZm9ybUltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxfX2Zvcm0taW1nXCIpO1xuLy9zZWxlY3RzIGNoYW5nZVBmcCBmb3JtXG5leHBvcnQgY29uc3QgY2hhbmdlUGZwRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2hhbmdlUGZwLW1vZGFsXCIpO1xuLy9zZWxlY3RzIGFkZCBidXR0b25cbmV4cG9ydCBjb25zdCBtb2RhbEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1hZGQtYnV0dG9uXCIpO1xuIiwiLy9pbXBvcnQganMgYW5kIGNzcyBmaWxlc1xuXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgTW9kYWxXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Nb2RhbFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgTW9kYWxXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvTW9kYWxXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBNb2RhbFdpdGhDb25maXJtIGZyb20gXCIuLi9jb21wb25lbnRzL01vZGFsV2l0aENvbmZpcm0uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IHtcbiAgaW5wdXRUaXRsZSxcbiAgaW5wdXRTdWJUaXRsZSxcbiAgaW5wdXRQaWN0dXJlVXJsLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgZm9ybVBlcnNvbixcbiAgZm9ybUltZyxcbiAgY2hhbmdlUGZwRm9ybSxcbiAgbW9kYWxBZGQsXG4gIHByb2ZpbGVTYXZlQnV0dG9uLFxuICBjYXJkU2F2ZUJ1dHRvbixcbiAgcGZwU2F2ZUJ1dHRvbixcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5BUEkgb24gdG9wIHRvIGF2b2lkIHNjb3BlIGlzc3Vlc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmNvbnN0IG5ld0FwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG59KTtcbi8vbWFrZSBnbG9iYWwgaW5zdGFuY2Ugb2YgVXNlcmluZm8gY2xhc3NcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgcHJvZmlsZUpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxuICBwcm9maWxlUGljdHVyZVNlbGVjdG9yOiBcIi5wcm9maWxlX19waWN0dXJlXCIsXG59KTtcblxuLy8gRnVuY3Rpb24gdG8gZmV0Y2ggdGhlIGFwaSBpbmZvIHRvIHN0YXJ0IG91dCB0aGUgcGFnZS5cbmNvbnN0IGZldGNoQW5kU2V0VXNlckluZm8gPSAoKSA9PiB7XG4gIG5ld0FwaVxuICAgIC5nZXRVc2VySW5mbygpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGpvYjogZGF0YS5hYm91dCxcbiAgICAgICAgcGljdHVyZTogZGF0YS5hdmF0YXIsXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdXNlciBpbmZvOiBcIiwgZXJyKTtcbiAgICB9KTtcbn07XG5mZXRjaEFuZFNldFVzZXJJbmZvKCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkZ1bmN0aW9uc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLy9tYWtlIHN1cmUgdG8gZGVmaW5lIHRoZSBmdW5jdGlvbnMvY29uc3RzIGJlZm9yZSB0cnlpbmcgdG8gY2FsbCB0aGVtLlxuXG4vL3ByZXZpZXcgcGhvdG9cbmNvbnN0IHByZXZpZXdNb2RhbCA9IG5ldyBNb2RhbFdpdGhJbWFnZShcIiNwaG90by1tb2RhbFwiKTtcbmNvbnN0IGhhbmRsZUltYWdlQ2xpY2sgPSAoZGF0YSkgPT4ge1xuICAvL3JldmVhbHMgbW9kYWxcbiAgcHJldmlld01vZGFsLm9wZW4oZGF0YSk7XG59O1xucHJldmlld01vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vYWNjZXNzIHRoZSBncmlkIG9mIGNhcmRzXG5jb25zdCBjYXJkR2FsbGVyeVNlbGVjdG9yID0gXCIuZ2FsbGVyeV9fZ3JpZFwiO1xuLy9hY2Nlc3MgdGhlIGNhcmQgdGVtcGxhdGVcbmNvbnN0IGNhcmRTZWxlY3RvciA9IFwiI2NhcmQtdGVtcGxhdGVcIjtcblxubGV0IHBsYWNlID0gXCJhcHBlbmRcIjtcbmNvbnN0IGNhcmRIb2xkZXIgPSBbXTtcbi8vZnVuY3Rpb24gdG8gY3JlYXRlIGNhcmRcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuICAgIGRhdGE6IGl0ZW0sXG4gICAgY2FyZFNlbGVjdG9yOiBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljazogaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVUcmFzaENsaWNrOiAoKSA9PiB7XG4gICAgICBjb25zdCBjYXJkSWQgPSBjYXJkLmdldElkKCk7XG4gICAgICBjb25maXJtTW9kYWwuc2V0QWN0aW9uKCgpID0+IGhhbmRsZURlbGV0ZUNvbmZpcm0oY2FyZCwgY2FyZElkKSk7XG4gICAgICBjb25maXJtTW9kYWwub3BlbigpO1xuICAgIH0sXG4gICAgdG9nZ2xlTGlrZTogKCkgPT4ge1xuICAgICAgY29uc3QgY2FyZElkID0gY2FyZC5nZXRJZCgpO1xuICAgICAgY29uc3QgaXNMaWtlZCA9IGNhcmQuaXNMaWtlZCgpO1xuICAgICAgLy9pZiBpdCBhbHJlYWR5IGlzIGxpa2VkXG4gICAgICBpZiAoaXNMaWtlZCkge1xuICAgICAgICBuZXdBcGlcbiAgICAgICAgICAucmVtb3ZlTGlrZSh7IGNhcmRJZDogY2FyZElkLCBpc0xpa2VkOiBpc0xpa2VkIH0pXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgY2FyZC5zZXRJc0xpa2VkKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBkaXNsaWtpbmc6ICR7Y2FyZElkfWApO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IuIFRoZSByZXF1ZXN0IGhhcyBmYWlsZWQ6IFwiLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy9pZiBpdCBpcyBub3QgbGlrZWQ6XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3QXBpXG4gICAgICAgICAgLmFkZExpa2UoeyBjYXJkSWQ6IGNhcmRJZCwgaXNMaWtlZDogaXNMaWtlZCB9KVxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGNhcmQuc2V0SXNMaWtlZCh0cnVlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBsaWtpbmc6ICR7Y2FyZElkfWApO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IuIFRoZSByZXF1ZXN0IGhhcyBmYWlsZWQ6IFwiLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2V0VmlldygpO1xuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQsIHBsYWNlKTtcblxuICByZXR1cm4geyBjYXJkLCBjYXJkSWQ6IGNhcmQuZ2V0SWQoKSB9O1xufTtcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgeyBpdGVtczogY2FyZEhvbGRlciwgcmVuZGVyZXI6IGNyZWF0ZUNhcmQgfSxcbiAgY2FyZEdhbGxlcnlTZWxlY3RvclxuKTtcblxuY29uc3QgaGFuZGxlRGVsZXRlQ29uZmlybSA9IChjdXJyZW50Q2FyZCwgY2FyZElkKSA9PiB7XG4gIGNvbmZpcm1Nb2RhbC5zaG93TG9hZGluZygpO1xuICBuZXdBcGlcbiAgICAuZGVsZXRlQ2FyZCh7IGNhcmRJZDogY2FyZElkIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzLCBjYXJkSWQpO1xuICAgICAgY3VycmVudENhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgY29uc29sZS5sb2coYGRlbGV0aW5nOiAke2NhcmRJZH1gKTtcbiAgICAgIGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvci4gVGhlIHJlcXVlc3QgaGFzIGZhaWxlZDogXCIsIGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBjb25maXJtTW9kYWwuaGlkZUxvYWRpbmcoKTtcbiAgICB9KTtcbn07XG5cbi8vQ29uZmlybWF0aW9uIGZvcm1cbmNvbnN0IGNvbmZpcm1Nb2RhbCA9IG5ldyBNb2RhbFdpdGhDb25maXJtKHtcbiAgbW9kYWxTZWxlY3RvcjogXCIjY29uZmlybS1tb2RhbFwiLFxuICBsb2FkaW5nQnV0dG9uVGV4dDogXCJTYXZpbmdcIixcbn0pO1xuY29uZmlybU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vdGhlIEFQSSdzIGRhdGEgKHJlc3BvbnNlKSBpcyB0aGUgbmV3IFwiaW5pdGlhbFwiIGFycmF5XG5uZXdBcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgICAgeyBpdGVtczogZGF0YSwgcmVuZGVyZXI6IGNyZWF0ZUNhcmQgfSxcbiAgICAgIGNhcmRHYWxsZXJ5U2VsZWN0b3JcbiAgICApO1xuICAgIHNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IuIFRoZSByZXF1ZXN0IGhhcyBmYWlsZWQ6IFwiLCBlcnIpO1xuICB9KTtcblxuLy9mdW5jdGlvbiB0byBzYXZlIHBlcnNvbi4gdGhpcyB0YWtlcyBkYXRhIGZyb20gdGhlIGZvcm0sXG4vL3RoZW4gbGV0cyB1c2VyaW5mbyB1c2UgaXRcbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0ID0gKGlucHV0RGF0YSkgPT4ge1xuICBjb25zb2xlLmxvZyhpbnB1dERhdGEpO1xuICAvL2FkZCB0aGUgaW5mbyB0byB0aGUgcGFnZVxuICBlZGl0UHJvZmlsZU1vZGFsLnNob3dMb2FkaW5nKCk7XG4gIG5ld0FwaVxuICAgIC5lZGl0UHJvZmlsZSh7IG5hbWU6IGlucHV0RGF0YS50aXRsZSwgYWJvdXQ6IGlucHV0RGF0YS5zdWJ0aXRsZSB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogaW5wdXREYXRhLnRpdGxlLCBqb2I6IGlucHV0RGF0YS5zdWJ0aXRsZSB9KTtcbiAgICAgIGVkaXRQcm9maWxlTW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IuIFRoZSByZXF1ZXN0IGhhcyBmYWlsZWQ6IFwiLCBlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZWRpdFByb2ZpbGVNb2RhbC5oaWRlTG9hZGluZygpO1xuICAgIH0pO1xufTtcblxuLy9mdW5jdGlvbiB0byBjcmVhdGUgbmV3IGNhcmQgaW1nXG5jb25zdCBoYW5kbGVJbWdGb3JtU3VibWl0ID0gKGlucHV0RGF0YSkgPT4ge1xuICBuZXdDYXJkTW9kYWwuc2hvd0xvYWRpbmcoKTtcbiAgY29uc29sZS5sb2coaW5wdXREYXRhKTtcbiAgLy9jcmVhdGUgbmV3IGNhcmRcbiAgY29uc29sZS5sb2coaW5wdXREYXRhLmltZ1RpdGxlLCBpbnB1dERhdGEuaW1nVVJMKTtcblxuICBuZXdBcGlcbiAgICAuYWRkTmV3Q2FyZCh7IG5hbWU6IGlucHV0RGF0YS5pbWdUaXRsZSwgbGluazogaW5wdXREYXRhLmltZ1VSTCB9KVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBuZXdDYXJkID0ge1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcbiAgICAgICAgYWx0OiBkYXRhLm5hbWUsXG4gICAgICAgIF9pZDogZGF0YS5faWQsXG4gICAgICB9O1xuICAgICAgcGxhY2UgPSBcInByZXBlbmRcIjtcbiAgICAgIGNyZWF0ZUNhcmQobmV3Q2FyZCk7XG4gICAgICBuZXdDYXJkTW9kYWwuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IuIFRoZSByZXF1ZXN0IGhhcyBmYWlsZWQ6IFwiLCBlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgbmV3Q2FyZE1vZGFsLmhpZGVMb2FkaW5nKCk7XG4gICAgfSk7XG59O1xuXG4vKmp1c3QgdHJ5IHRoaXMgdmFsaWQgbGluayBmcm9tIHByYWN0aWN1bTpcbmh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvbG9nby5zdmdcbiB0byBlbnRlciBpbnRvIHRoZSBpbnB1dCB0byB0ZXN0IGl0IGZvciBjb252ZW5pZW5jZS5cbiAqL1xuY29uc3QgaGFuZGxlUGZwRm9ybVN1Ym1pdCA9IChpbnB1dERhdGEpID0+IHtcbiAgY2hhbmdlUGZwTW9kYWwuc2hvd0xvYWRpbmcoKTtcbiAgbmV3QXBpXG4gICAgLmNoYW5nZVBmcCh7IGF2YXRhcjogYCR7aW5wdXREYXRhLnBmcFVSTH1gIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJQaWN0dXJlKHsgcGljdHVyZTogaW5wdXREYXRhLnBmcFVSTCB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGBjaGFuZ2VkIHBmcCB1cmwgdG86ICR7aW5wdXREYXRhLnBmcFVSTH0gYCk7XG4gICAgICBjaGFuZ2VQZnBNb2RhbC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvci4gVGhlIHJlcXVlc3QgaGFzIGZhaWxlZDogXCIsIGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBjaGFuZ2VQZnBNb2RhbC5oaWRlTG9hZGluZygpO1xuICAgIH0pO1xufTtcbi8vZWRpdCBwcm9maWxlIHBlcnNvbiBmb3JtXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xuICBtb2RhbFNlbGVjdG9yOiBcIiNwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgaGFuZGxlU3VibWl0Rm9ybTogaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQsXG4gIGxvYWRpbmdCdXR0b25UZXh0OiBcIlNhdmluZ1wiLFxufSk7XG5jb25zdCBvcGVuUGVyc29uTW9kYWwgPSAoKSA9PiB7XG4gIGVkaXRQcm9maWxlTW9kYWwub3BlbigpO1xuICBwcm9maWxlU2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICAvL21ha2VzIGN1cnJlbnQgdGV4dCB0aGUgaW5wdXQgdGV4dCB3aGVuIG9wZW4gdGhlIG1vZGFsXG4gIGNvbnN0IHsgbmFtZSwgam9iIH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBpbnB1dFRpdGxlLnZhbHVlID0gbmFtZTtcbiAgaW5wdXRTdWJUaXRsZS52YWx1ZSA9IGpvYjtcbn07XG5jb25zdCBjaGFuZ2VQZnBNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcbiAgbW9kYWxTZWxlY3RvcjogXCIjY2hhbmdlUGZwLW1vZGFsXCIsXG4gIGhhbmRsZVN1Ym1pdEZvcm06IGhhbmRsZVBmcEZvcm1TdWJtaXQsXG4gIGxvYWRpbmdCdXR0b25UZXh0OiBcIlNhdmluZ1wiLFxufSk7XG5jb25zdCBvcGVuUGZwTW9kYWwgPSAoKSA9PiB7XG4gIGNoYW5nZVBmcE1vZGFsLm9wZW4oKTtcbiAgY29uc29sZS5sb2cocGZwU2F2ZUJ1dHRvbik7XG4gIHBmcFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgLy9tYWtlcyBjdXJyZW50IHRleHQgdGhlIGlucHV0IHRleHQgd2hlbiBvcGVuIHRoZSBtb2RhbFxuICBjb25zdCB7IHBpY3R1cmUgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0UGljdHVyZVVybC52YWx1ZSA9IHBpY3R1cmU7XG59O1xuY29uc3QgcGZwQ2hhbmdlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19waWN0dXJlLWNvbnRhaW5lclwiKTtcbnBmcENoYW5nZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlblBmcE1vZGFsKTtcbmNoYW5nZVBmcE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vY2xpY2sgZWRpdCBidXR0b24gdG8gb3BlbiBwZXJzb24gbW9kYWxcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuUGVyc29uTW9kYWwpO1xuZWRpdFByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL2FkZCBjYXJkIGltYWdlIGZvcm1cbmNvbnN0IG5ld0NhcmRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcbiAgbW9kYWxTZWxlY3RvcjogXCIjaW1nLWNyZWF0ZS1tb2RhbFwiLFxuICBoYW5kbGVTdWJtaXRGb3JtOiBoYW5kbGVJbWdGb3JtU3VibWl0LFxuICBsb2FkaW5nQnV0dG9uVGV4dDogXCJTYXZpbmdcIixcbn0pO1xuY29uc3Qgb3BlbkNhcmRNb2RhbCA9ICgpID0+IHtcbiAgbmV3Q2FyZE1vZGFsLm9wZW4oKTtcbiAgY2FyZFNhdmVCdXR0b24udGV4dENvbnRlbnQgPSBcIkNyZWF0ZVwiO1xufTtcbi8vY2xpY2sgYWRkIGJ1dHRvbiB0byBvcGVuIGltZyBtb2RhbFxubW9kYWxBZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5DYXJkTW9kYWwpO1xubmV3Q2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vbW92ZSB0aGUgY29uZmlnIHZhcmlhYmxlIGhlcmVcbmNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idXR0b246ZGlzYWJsZWRcIixcbiAgaW5wdXRJbnZhbGlkQ2xhc3M6IFwibW9kYWxfX2lucHV0X2ludmFsaWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG4vL2NhbGwgYW5kIG1ha2UgYSBuZXcgZm9ybVZhbGlkYXRvciB3aXRoIHRoZSBzcGVjaWZpYyBwYXJhbWV0ZXJzIG9mIHRoZSByZWxhdGl2ZSBvYmplY3RcbmZ1bmN0aW9uIGluaXRpYWxpemVGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybSkge1xuICBjb25zdCBmb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtKTtcbiAgZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIHJldHVybiBmb3JtVmFsaWRhdG9yO1xufVxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBpbml0aWFsaXplRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1QZXJzb24pO1xuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IGluaXRpYWxpemVGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUltZyk7XG5jb25zdCBjaGFuZ2VQZnBGb3JtVmFsaWRhdG9yID0gaW5pdGlhbGl6ZUZvcm1WYWxpZGF0b3IoY29uZmlnLCBjaGFuZ2VQZnBGb3JtKTtcbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IHtcbiAgICAgIGF1dGhvcml6YXRpb246IFwiNmQ3YWU5ZWItODg2OS00MTBmLWIzNWMtOGUxZGNjNDRmMDRiXCIsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICB9O1xuICB9XG5cbiAgLy9GdW5jdGlvbiB0byBwcm9jZXNzIHJlc3BvbnNlLiBSZXVzZSBpdCBmb3IgZWFjaCBmZXRjaC5cbiAgX3Byb2Nlc3NSZXNwb25zZSA9IChyZXMpID0+IHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9O1xuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcbiAgfVxuICAvL0dFVCBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkc1xuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XG4gIH1cblxuICAvL1BBVENIIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXG4gIGVkaXRQcm9maWxlKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XG4gIH1cbiAgLy9QQVRDSCBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZS9hdmF0YXJcbiAgY2hhbmdlUGZwKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XG4gIH1cbiAgLy9QT1NUIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzXG4gIGFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcbiAgfVxuICAvL0RFTEVURSBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkcy9jYXJkSWRcbiAgZGVsZXRlQ2FyZCh7IGNhcmRJZCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG4gIC8vUFVUIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzL2NhcmRJZC9saWtlc1xuICBhZGRMaWtlKHsgY2FyZElkLCBpc0xpa2VkIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgaXNMaWtlZCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcbiAgfVxuICAvL1BVVCBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkcy9jYXJkSWQvbGlrZXNcbiAgcmVtb3ZlTGlrZSh7IGNhcmRJZCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiIsImNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoXG4gICAgeyBwcm9maWxlTmFtZVNlbGVjdG9yLCBwcm9maWxlSm9iU2VsZWN0b3IsIHByb2ZpbGVQaWN0dXJlU2VsZWN0b3IgfSxcbiAgICBpbml0aWFsZGF0YVxuICApIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUpvYlNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlUGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZVBpY3R1cmVTZWxlY3Rvcik7XG4gICAgaWYgKGluaXRpYWxkYXRhKSB7XG4gICAgfVxuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgLy9tYWtlIGFuIG9iamVjdCB0byBjb250YWluIG5hbWUgYW5kIGpvYiBpbmZvXG4gICAgY29uc3QgaW5mbyA9IHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBqb2I6IFwiXCIsXG4gICAgICBwaWN0dXJlOiBcIlwiLFxuICAgIH07XG4gICAgaW5mby5uYW1lID0gdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gICAgaW5mby5qb2IgPSB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50O1xuICAgIGluZm8ucGljdHVyZSA9IHRoaXMuX3Byb2ZpbGVQaWN0dXJlLnNyYztcbiAgICByZXR1cm4gaW5mbztcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iLCBwaWN0dXJlIH0pIHtcbiAgICAvL2FkZCB0aGUgaW5mbyB0byB0aGUgcGFnZVxuICAgIGlmIChuYW1lKSB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgaWYgKGpvYikgdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IGpvYjtcbiAgICBpZiAocGljdHVyZSkgdGhpcy5fcHJvZmlsZVBpY3R1cmUuc3JjID0gcGljdHVyZTtcbiAgfVxuICBzZXRVc2VyUGljdHVyZSh7IHBpY3R1cmUgfSkge1xuICAgIHRoaXMuc2V0VXNlckluZm8oeyBwaWN0dXJlIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xuIiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XG5cbmNsYXNzIE1vZGFsV2l0aEltYWdlIGV4dGVuZHMgTW9kYWwge1xuICBjb25zdHJ1Y3Rvcihtb2RhbFNlbGVjdG9yKSB7XG4gICAgc3VwZXIobW9kYWxTZWxlY3Rvcik7XG4gICAgdGhpcy5fYm94UGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19ib3gtcGhvdG9cIik7XG4gICAgdGhpcy5fYm94VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19ib3gtdGl0bGVcIik7XG4gIH1cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fYm94UGhvdG8uc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2JveFBob3RvLmFsdCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9ib3hUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vZGFsV2l0aEltYWdlO1xuIiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XG5cbmNsYXNzIE1vZGFsV2l0aENvbmZpcm0gZXh0ZW5kcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKHsgbW9kYWxTZWxlY3RvciwgbG9hZGluZ0J1dHRvblRleHQgfSkge1xuICAgIC8vXG4gICAgc3VwZXIobW9kYWxTZWxlY3Rvcik7XG4gICAgdGhpcy5fbW9kYWxTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW9kYWxTZWxlY3Rvcik7XG4gICAgdGhpcy5fbW9kYWxGb3JtID0gdGhpcy5fbW9kYWxTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2J1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fbG9hZGluZ0J1dHRvblRleHQgPSBsb2FkaW5nQnV0dG9uVGV4dDtcbiAgfVxuXG4gIC8vTWFrZSBpdCBnZW5lcmFsaXplZC4gVGhlIGFjdGlvbi9pbmZvIGNhbiBiZSBzcGVjaWZpZWQgZWxzZXdoZXJlIHdoZW4gbmVlZGVkLlxuICBzZXRBY3Rpb24oYWN0aW9uKSB7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcbiAgfVxuICBzaG93TG9hZGluZygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9sb2FkaW5nQnV0dG9uVGV4dDtcbiAgfVxuICBoaWRlTG9hZGluZygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX21vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE1vZGFsV2l0aENvbmZpcm07XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsInRoaXMiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEludmFsaWRDbGFzcyIsImlucHV0SW52YWxpZENsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiZGlzYWJsZUJ1dHRvbiIsImJ1dHRvbiIsImRpc2FibGVkIiwiZW5hYmxlQnV0dG9uIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJfaGlkZUlucHV0RXJyb3IiLCJyZW1vdmUiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJvcHRpb25zIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9jaGVja0Zvcm1WYWxpZGl0eSIsImlucHV0RWxlbWVudHMiLCJldmVyeSIsImlucHV0IiwiX3RvZ2dsZUJ1dHRvbkFiaWxpdHkiLCJzdWJtaXRCdXR0b24iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJfcmVmIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVUcmFzaENsaWNrIiwiaGFuZGxlRGVsZXRlQ29uZmlybSIsInRvZ2dsZUxpa2UiLCJuYW1lIiwibGluayIsImFsdCIsIl9pZCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVUcmFzaENsaWNrIiwiX2hhbmRsZURlbGV0ZUNvbmZpcm0iLCJfdG9nZ2xlTGlrZSIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsImdldElkIiwicmVtb3ZlQ2FyZCIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwic2V0SXNMaWtlZCIsIl9yZW5kZXJMaWtlcyIsIl9saWtlQnV0dG9uIiwiX3RyYXNoQnV0dG9uIiwiX2NhcmRQaG90byIsImdldFZpZXciLCJfY2FyZExhYmVsIiwic3JjIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJwbGFjZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImFwcGVuZCIsInByZXBlbmQiLCJtb2RhbFNlbGVjdG9yIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwiY3VycmVudENsb3NlQnV0dG9uIiwiYmluZCIsIm1vZGFsQ29udGFpbmVyIiwic3RvcFByb3BhZ2F0aW9uIiwiaXNJbnNpZGVDb250YWluZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIk1vZGFsIiwiaGFuZGxlU3VibWl0Rm9ybSIsImxvYWRpbmdCdXR0b25UZXh0Iiwic3VwZXIiLCJfbW9kYWxTZWxlY3RvciIsIl9tb2RhbEZvcm0iLCJfc3VibWl0QnV0dG9uIiwiX2J1dHRvblRleHQiLCJfbG9hZGluZ0J1dHRvblRleHQiLCJfaGFuZGxlU3VibWl0Rm9ybSIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0TGlzdCIsImlucHV0VmFsdWVzIiwidmFsdWUiLCJpbnB1dFRpdGxlIiwiaW5wdXRTdWJUaXRsZSIsImlucHV0UGljdHVyZVVybCIsInByb2ZpbGVTYXZlQnV0dG9uIiwiY2FyZFNhdmVCdXR0b24iLCJwZnBTYXZlQnV0dG9uIiwicHJvZmlsZUVkaXRCdXR0b24iLCJmb3JtUGVyc29uIiwiZm9ybUltZyIsImNoYW5nZVBmcEZvcm0iLCJtb2RhbEFkZCIsIm5ld0FwaSIsImJhc2VVcmwiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIl9wcm9jZXNzUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0VXNlckluZm8iLCJmZXRjaCIsImhlYWRlcnMiLCJ0aGVuIiwiZ2V0SW5pdGlhbENhcmRzIiwibWV0aG9kIiwiZWRpdFByb2ZpbGUiLCJfcmVmMiIsImFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjaGFuZ2VQZnAiLCJfcmVmMyIsImF2YXRhciIsImFkZE5ld0NhcmQiLCJfcmVmNCIsImRlbGV0ZUNhcmQiLCJfcmVmNSIsImNhcmRJZCIsImFkZExpa2UiLCJfcmVmNiIsInJlbW92ZUxpa2UiLCJfcmVmNyIsInVzZXJJbmZvIiwiaW5pdGlhbGRhdGEiLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUpvYlNlbGVjdG9yIiwicHJvZmlsZVBpY3R1cmVTZWxlY3RvciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSm9iIiwiX3Byb2ZpbGVQaWN0dXJlIiwiaW5mbyIsImpvYiIsInBpY3R1cmUiLCJzZXRVc2VySW5mbyIsInNldFVzZXJQaWN0dXJlIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJwcmV2aWV3TW9kYWwiLCJfYm94UGhvdG8iLCJfYm94VGl0bGUiLCJjYXJkR2FsbGVyeVNlbGVjdG9yIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJDYXJkIiwiY29uZmlybU1vZGFsIiwic2V0QWN0aW9uIiwiY2FyZEVsZW1lbnQiLCJzZWN0aW9uIiwiU2VjdGlvbiIsImN1cnJlbnRDYXJkIiwiZmluYWxseSIsImFjdGlvbiIsIl9oYW5kbGVGb3JtU3VibWl0IiwiZWRpdFByb2ZpbGVNb2RhbCIsIk1vZGFsV2l0aEZvcm0iLCJpbnB1dERhdGEiLCJ0aXRsZSIsInN1YnRpdGxlIiwiY2hhbmdlUGZwTW9kYWwiLCJwZnBVUkwiLCJvcGVuUGZwTW9kYWwiLCJvcGVuUGVyc29uTW9kYWwiLCJuZXdDYXJkTW9kYWwiLCJpbWdUaXRsZSIsImltZ1VSTCIsIm5ld0NhcmQiLCJvcGVuQ2FyZE1vZGFsIiwiZm9ybVNlbGVjdG9yIiwiaW5pdGlhbGl6ZUZvcm1WYWxpZGF0b3IiLCJmb3JtIiwiZm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9